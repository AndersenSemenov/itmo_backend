Для запуска необходимо поднять базу Postgres, перейдя в папку docker-compose и выполнив команду docker-compose up -d 

При запуске main метода в классе Main стартует веб-приложение на Spring Boot на дефолтном порту 8080, приложение будет доступно по адресу http://localhost:8080

На старте запустятся миграции схем баз данных на основе Flyway из папки src/main/resources/db/migration, создастся схема movie и 2 таблицы в ней --- movie и director

Сервис представляет из себя REST API для работы с фильмами (эндпойнт /api/movies) и режиссерами (эндпойнт /api/directors)


Сущность режиссера представлена полями:
1. id - целочисленный уникальный идентификатор записи;
2. fio - ФИО режиссера, строка до 100 символов.

Сущность фильма представлена полями:
1. id - целочисленный уникальный идентификатор записи;
2. title - название кинофильма, строка до 100 символов;
3. year - год выпуска, целое число от 1900 до 2100;
4. director - id режиссера;
5. length - продолжительность фильма в формате чч:мм:сс, тип - время;
6. rating - рейтинг фильма, целое число от 0 до 10.

Все поля в сущностях являются обязательными при отправке запроса, также валидируются дополнительные ограничения (длина символов в строке, допустимый диапазон значений)

Для фильмов реализованы следующие методы:
1. **GET /api/movies --- вывод списка всех фильмов**

В ответ приходит код ответа 200 и ответ в формате 
```json
{
    "list": [
        {
            "id": 2,
            "title": "21",
            "year": 2023,
            "director": 2,
            "length": "02:30:00",
            "rating": 6
        },
        {
            "id": 3,
            "title": "new film",
            "year": 2024,
            "director": 2,
            "length": "01:40:00",
            "rating": 7
        }
    ]
}
```

2. **GET /api/movies/{id} --- вывод информации о фильме с заданным id**

Приложение вернет код 404 и сообщение в следующем формате, если заданный фильм был не найден:
```json
{
    "status": "404",
    "reason": "Не найден фильм по id=1"
}
```
Приложение вернет код 200 и фильм с нужным id, если он был найден, в следующем формате:
```json
{
    "movie": {
        "id": 2,
        "title": "21",
        "year": 2023,
        "director": 2,
        "length": "02:30:00",
        "rating": 6
    }
}
```

3. **POST /api/movies - добавление новой записи о фильме**

Приложение принимает следующий формат: 
```json
{
  "movie": 
  {
    "id": 1,
    "title": "new film",
    "year": 2024,
    "director": 2,
    "length": "01:40:00",
    "rating": 7
  }
}
```

В случае успеха будет возвращен код 200 и сообщение в формате, совпадающем с входным, и с добавленным id вставленной записи:
```json
{
    "movie": {
        "id": 3,
        "title": "new film",
        "year": 2024,
        "director": 2,
        "length": "01:40:00",
        "rating": 7
    }
}
```

В случае неуспеха:

    1. если не был найден режиссер по заданному id, будет возвращен код 404 и сообщение о том, что режиссер с заданным id не был найден;
    2. если не сообщение не прошло валидацию, то будет возвращен код 400 и сообщение с информацией о некорректности заполняемых полей.

Пример сообщения в случае неуспеха с ошибкой валидации:
```json
{
    "movie": 
    {
        "id": 1,
        "title": "",
        "year": 100000,
        "director": 2,
        "length": "21:40:00",
        "rating": -1
    }
}
```
В ответ приложение выдаст следующий ответ:
```json
{
    "status": "400",
    "reason": "Поле title не должно быть пустым; Поле rating должно находиться в диапазоне от 0 до 10; Поле year должно находиться в диапазоне от 1900 до 2100; "
}
```

4. **PATCH /api/movies/{id} - изменение информации о фильме с указанным id**

Приложение принимает следующий формат:
```json
{
    "movie": 
    {
        "id": 1,
        "title": "sa",
        "year": 1966,
        "director": 2,
        "length": "21:40:00",
        "rating": 1
    }
}
```

В случае успеха возвращает код 200 и сообщение в формате, совпадающем с входным.

В случае неуспеха:

    1. если не был найден режиссер по заданному id, будет возвращен код 404 и сообщение о том, что режиссер с заданным id не был найден;
    2. если не сообщение не прошло валидацию, то будет возвращен код 400 и сообщение с информацией о некорректности заполняемых полей.

Процесс валидации и формат ответа в случае ошибки валидации совпадает с методом POST /api/movies

5. **DELETE /api/movies/{id} - удаление записи о фильме с указанным id**

В случае успеха возвращает ответ с кодом 202.
В случае, если фильма с указанным id не найдено, возвращает ответ с кодом 404 и соответствующее сообщение.





Во всех остальных непредвиденных ситуациях неуспеха, не указанных в описании методов, приложение возвращает ответ с кодом 500 и сообщение с текстом непредвиденной ошибкой:
```json
{
  "status": "500",
  "reason": "Internal error message"
}
```
